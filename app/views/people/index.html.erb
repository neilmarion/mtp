  <script type="text/javascript">
    function initialize() {
      var myLatlng = new google.maps.LatLng(14.455661832483251,120.98109025575866);
      var mapOptions = {
        zoom: 15,
        center: myLatlng,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      }
      var map = new google.maps.Map(document.getElementById('map'), mapOptions);

      
      <% @people.each do |person| %>
        var contentString = '<%= person.name %>'
        var infowindow = new google.maps.InfoWindow({
          content: contentString
        });
      
        latlng = new google.maps.LatLng(<%= person.addresses.first.latitude %>,<%= person.addresses.first.longitude %>);
        marker = new google.maps.Marker({
          position: latlng,
          map: map,
          title: '<%= person.name %>',
          labelContent: '<%= person.name %>'
          
        });
        
        google.maps.event.addListener(marker, 'click', function() {
          infowindow.open(map,marker);
        });
      
      <% end %>
      
    }
  
  
  google.maps.event.addDomListener(window, 'load', initialize);
  </script>

<div class="pagemenu">
  <%= render partial: 'menu' %>
</div>

<div id="canvas">
  <div id="map" style="<%= 'display:none' %>">
  </div>
  <div id="table">
    <table class="listing" cellpadding="0" cellspacing="0">
      <tbody id="people_table">
        <%= render 'people/people', people: @people %>
      </tbody>
    </table>
  </div>
</div>

<div id="add_person_div" style="display:none" title="<%= t('.add_person') %>" class="fingerme">
  <%= render 'add_person', person: @person %>
</div>

<%= will_paginate @people %>
